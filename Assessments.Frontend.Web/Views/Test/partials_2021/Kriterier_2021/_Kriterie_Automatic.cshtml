@model Artsdatabanken.RL2021
@*

    // REFERENCES: https://www.artsdatabanken.no/files/33528

*@

@{
    Artsdatabanken.RL2021 assessment = Model;
    var criteria = @Model.OppsummeringAKriterier;
    var kriterier = Model.Kriterier;
    var keys = @ViewBag.kriterier["criteria"]["keys"];

}


<div class="section">
    <h2>Kriterier</h2>

    <h3> Alle autmatisk utdytta kriterier</h3>

    <h4>Faktiske kriterier: @Model.Kriterier</h4>

    @foreach (string element in keys)
    {

        <div class="tempsection">
            @{
                var elementname = @ViewBag.kriterier["criteria"][@element];
                var subcriteria = elementname["subcriteria"];
                var suboptions = elementname["options"];
            }
            <h2>@element</h2>
            <h3>@elementname["summary"]</h3>

            @elementname["description"]
            <hr />
            @elementname["spantext"]
            @elementname["model-variable"]
            @elementname["spantext-end"]
            <br />

            <div class="suboptions">
                @if (suboptions != null)
                {
                    @foreach (string subelement in @suboptions["keys"])
                    {

                        <div class="element">
                            @{
                                var thesubelement = @ViewBag.kriterier["criteria"][@element]["options"][subelement];
                            }
                            <h3> @subelement - @thesubelement["tagline"]</h3>
                            @thesubelement["description"]

                        </div>

                    }
                }
            </div>


            <div class="subcriteria">
                @if (subcriteria != null)
                {
                    @foreach (string subelement in @subcriteria["keys"])
                    {

                <span class="element">
                    @{
                        var thesubelement = @ViewBag.kriterier["criteria"][@element]["subcriteria"][subelement];
                        var className = "nonactive";
                        if (Model.Kriterier.Contains(subelement))
                        {
                            className = "active";
                        }
                    }
                    <div class="@className">


                        <h3> @subelement - @thesubelement["tagline"]</h3>
                    
                        <b>
                       
                                        </b>
                        @thesubelement["description"]<br />
                        <br />
                        <b>Hent ut og fiks<br /></b>
                        @thesubelement["content"]<br />

                        <br />
                        <b>@thesubelement["based-on-field"]<br /></b>
                        @thesubelement["based-on"]<br />
                        </div>

                </span>

                    }
                }
            </div>




        </div>
    }
</div>