@model AlienSpeciesDetailViewModel;
@using Assessments.Mapping.AlienSpecies.Model.Enums;

@{
    var pageName = @Constants.GeographicVariationInCategory;
    var showPage = @Constants.showHeading(pageName, @Model.Assessment.Category);
}
<div is-visible="showPage" class="page_section">
    @{        
        var hasGeographicVariationInCategory = @Model.Assessment.GeographicVariationInCategory == true;
        var geographicVariation = @Model.Assessment.GeographicalVariation;
        var geographicVariationDocumentation = @Model.Assessment.GeographicalVariationDocumentation;
        var hasGeographicVariationDocumentation = geographicVariationDocumentation !=  "";
        var hasCauses = geographicVariation.Count > 0;
        var causes = geographicVariation.Count;
    }
    <div id="show_category_changed" >
        <h2 id="@pageName"> @Constants.HeadingsNO[@pageName]</h2>

        <div is-visible="hasGeographicVariationInCategory">
            <p>
                @Constants.LowerCategoryThan
                <i> @Model.Assessment.Category.DisplayName()</i> - @Model.Assessment.Category
                @Constants.LowerCategoryThanEnding                   
            </p>
                <h3  is-visible="hasCauses">Ã…rsak til geografisk variasjon i risiko</h3>
           
                <ul class="indented_list">
                    @foreach (var variation in Model.Assessment.GeographicalVariation)
                    {
                        <li>@variation.DisplayName()</li>
                    }
                </ul>
            <br/>
        
            <p is-visible="hasGeographicVariationDocumentation">
                <b>@Constants.HasGeographicVariationDocumentation</b>
                @Html.Raw(geographicVariationDocumentation)
            </p>
        </div>
        <p is-visible="!hasGeographicVariationInCategory">                
            @Constants.NoLowerCategoryThan
            <i> @Model.Assessment.Category.DisplayName()</i> - @Model.Assessment.Category 
            @Constants.LowerCategoryThanEnding
        </p>
    </div>
</div>