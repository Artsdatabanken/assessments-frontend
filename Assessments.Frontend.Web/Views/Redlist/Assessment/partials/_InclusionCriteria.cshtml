@model SpeciesAssessment2021
@*
    // Inclusion Criteria

     1. Oppfølger vurderingen ett av de tre vurderingskriteriene? List opp kriteriene.
    - Alle vurderinger som er satt som rødlistevurdert oppfyller minst et kriterie.
    - Hvilket kriterie som innfris skal listes i EvaluationJustification

    2. Vurderinger som IKKE innfrir et av vurderingskriteriene skal sammenfalle med ikkevurderte arter

    4. For de ikkevurderte finnes det egne forklaringer. Feltet markert i AssessmentInitialClassification bestemmer hvilken
        som er relevant der det er flere. Aldri gi ut andre forklaringer enn den det tilhører.

    // TODO: MANGLER SJEKKER FOR OM TiNG FAKTISK FINNES I GLOSSARY
    // TODO: LINK TIL INFOSIDE OM INKLUDERING som er up-to-date. 

    string direkteSattKategori = "Denne arten har fått sin kategori satt direkte";

    if (@Model.AssessmentInitialClassification == "rodlisteVurdertArt")
    {
        // Only the ones mentioned above are actually fully evaluated. Any else have directly set category.
        // But as that also is considered an evaluation, this has no impact on other data presented.
        // Optimally this could have been used to hide/show areas, but stricter hiding is often necessary.
    
        direkteSattKategori = "Dette arten har fått sin kategori etter en full vurdering mot alle kriteriene .";
    }

*@

@{



    string heading = "";
    string inclusion = "";
    string reason_heading = "";
    string reason_description = "";
    
    if (new[] { 
        SpeciesAssessment2021.InitialClassification.RodlisteVurdertArt, 
        SpeciesAssessment2021.InitialClassification.UtdoddINorgeRE,
        SpeciesAssessment2021.InitialClassification.SikkerBestandLC,
        SpeciesAssessment2021.InitialClassification.StorUsikkerhetOmKorrektKategoriDD }
        .Contains(@Model.AssessmentInitialClassificationCode))
    {
        heading = @ViewBag.glossary["inkluderingskriterier"]["hvorfor"]["title"];
        inclusion = @ViewBag.glossary["inkluderingskriterier"]["hvorfor"]["description"];
        reason_heading = @ViewBag.glossary["inkluderingskriterier"][Model.AssessmentInitialSubClassificationCode.ToCamelString()]["title"];
        reason_description += @ViewBag.glossary["inkluderingskriterier"][Model.AssessmentInitialSubClassificationCode.ToCamelString()]["description"];
        
    }
    else if (new[] {SpeciesAssessment2021.InitialClassification.FremmedArtNA,
        SpeciesAssessment2021.InitialClassification.BegrensetForekomstNA,
        SpeciesAssessment2021.InitialClassification.KunnskapsStatusNE }
        .Contains(@Model.AssessmentInitialClassificationCode))
    {
        heading = @ViewBag.glossary["inkluderingskriterier"]["hvorforikke"]["title"];
        inclusion = @ViewBag.glossary["inkluderingskriterier"]["hvorforikke"]["description"];
        reason_heading = @ViewBag.glossary["inkluderingskriterier"][Model.AssessmentInitialSubClassificationCode.ToCamelString()]["title"]; // fjernet magic string kopling - potensielt rename termer
        reason_description += @ViewBag.glossary["inkluderingskriterier"][Model.AssessmentInitialSubClassificationCode.ToCamelString()]["description"];
        
    }
}

<div class="page_section inclusion_section">
    <h3>@heading</h3>
    <a class="button" href="https://www.artsdatabanken.no/Rodliste/NasjonaleTilpasninger">Les mer 
    <span class="material-icons">
        launch
    </span>
    </a>
    <p>@inclusion</p>


    <b>@reason_heading</b>
    <p>@Html.Raw(reason_description)</p>
</div>